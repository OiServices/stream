<!-- Notification -->
<div *ngIf="showNotification">
  <app-notification
    [message]="notificationMessage"
    [type]="notificationType"
    (close)="closeNotification()">
  </app-notification>
</div>

<!-- Investors Table -->
<div class="font-[sans-serif] overflow-x-auto px-6">
  <table class="min-w-full bg-white shadow-lg rounded-lg">
    <thead class="bg-gray-100">
      <tr>
        <th class="pl-4 w-8">
          <input id="checkbox" type="checkbox" class="hidden peer" />
          <label for="checkbox" class="relative flex items-center justify-center p-0.5">
            <i class="pi pi-envelope"></i>
          </label>
        </th>
        <th class="p-4 text-left text-sm font-semibold text-black">Email</th>
        <th class="p-4 text-left text-sm font-semibold text-black">Name</th>
        <th class="p-4 text-left text-sm font-semibold text-black">Role</th>
        <th class="p-4 text-left text-sm font-semibold text-black">Date Joined</th>
        <th class="p-4 text-left text-sm font-semibold text-black">Action</th>
      </tr>
    </thead>

    <tbody>
      <tr *ngFor="let investor of investors" class="odd:bg-blue-50">
        <td class="pl-4 w-8">
          <input id="checkbox{{ investor.id }}" type="checkbox" class="hidden peer" />
          <label for="checkbox{{ investor.id }}" class="relative flex items-center justify-center p-0.5">
            <i class="pi pi-user"></i>
          </label>
        </td>
        <td class="p-4 text-sm text-black">{{ investor.email }}</td>
        <td class="p-4 text-sm text-black">
          {{ investor.profile?.firstName ? investor.profile?.firstName + ' ' + investor.profile?.lastName : 'N/A' }}
        </td>
        <td class="p-4 text-sm text-black">{{ investor.role }}</td>
        <td class="p-4 text-sm text-black">{{ investor.createdAt | date:'medium' }}</td>
        <td class="p-4 flex">
          <button class="mr-4" title="View" (click)="viewInvestor(investor)">
            <i class="pi pi-eye text-blue-500 hover:text-blue-700"></i>
          </button>
        </td>
      </tr>
    </tbody>
  </table>
</div>

<!-- Investor Details Modal -->
<div *ngIf="displayInvestorModal" class="fixed inset-0 bg-gray-600 bg-opacity-50 flex justify-center items-center">
  <div class="bg-white p-6 rounded-lg shadow-lg w-96">
    <h3 class="text-xl font-semibold mb-4">Investor Details</h3>
    <p><strong>Email:</strong> {{ selectedInvestor?.email }}</p>
    <p><strong>Role:</strong> {{ selectedInvestor?.role }}</p>
    <p><strong>Date Joined:</strong> {{ selectedInvestor?.createdAt | date:'medium' }}</p>
    <p><strong>Name:</strong> {{ selectedInvestor?.profile?.firstName ? selectedInvestor?.profile?.firstName + ' ' + selectedInvestor?.profile?.lastName : 'N/A' }}</p>
    <div class="flex justify-end mt-4">
      <button (click)="closeModal()" class="px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-700">Close</button>
    </div>
  </div>
</div>
